{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/react-chrome-redux/lib/constants/index.js","webpack:///./autocomplete/src/suggest.js","webpack:///./autocomplete/src/websearchhistory.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///(webpack)/buildin/module.js","webpack:///./autocomplete/src/popup-suggest.js","webpack:///./utilities/src/ajax.js","webpack:///./node_modules/react-chrome-redux/lib/index.js","webpack:///./node_modules/react-chrome-redux/lib/store/Store.js","webpack:///./node_modules/lodash/assignIn.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_setToString.js","webpack:///./node_modules/lodash/_baseSetToString.js","webpack:///./node_modules/lodash/constant.js","webpack:///./node_modules/lodash/_shortOut.js","webpack:///./node_modules/lodash/_isIterateeCall.js","webpack:///./node_modules/lodash/keysIn.js","webpack:///./node_modules/lodash/_arrayLikeKeys.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./node_modules/lodash/_baseKeysIn.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/react-chrome-redux/lib/wrap-store/wrapStore.js","webpack:///./node_modules/react-chrome-redux/lib/wrap-store/shallowDiff.js","webpack:///./node_modules/react-chrome-redux/lib/alias/alias.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","type","getRawTag","objectToString","symToStringTag","undefined","freeGlobal","freeSelf","self","root","Function","DISPATCH_TYPE","STATE_TYPE","PATCH_STATE_TYPE","DIFF_STATUS_UPDATED","DIFF_STATUS_REMOVED","spaceRegExp","RegExp","unescape","constructor","this","cachedResults","backup","lastInput","respInput","sggstSelectNum","usingChar","mouseDownWasAtElem","mouseState","maxIndex","index","viewEvent","ajaxEvent","suggestDivPos","submitWay","blackList","userInteractedWithInput","preInit","input","parentElement","escapeHtml","val","elm","document","createElement","textContent","innerHTML","initFailure","setAttribute","createSuggestDiv","suggest","style","display","appendChild","count","addNewRow","cssKeywordElem","cssKeyword","addEventListener","e","which","currentTarget","blur","onRowKeywordLaunch","setTimeout","button","click","eventStop","preventDefault","over","cssNoSelectElem","cssNoSelect","rowElem","rowKeywordElem","onEmptyInput","hide","doDisplayOrHideIfEmpty","search","k","replace","length","clearTimeout","q","show","u","baseUrl","paramSuggestid","suggestId","paramInput","encodeURIComponent","paramCallback","exParam","read","jsonUrl","ajax","url","cache","timeout","scriptCharset","encoding","success","cb_json","data","JSON","parse","eventStart","clearInterval","setInterval","from_cache","status","len","suggestions","allKeywordElems","getElementsByClassName","keywordElem","text","terms","strongkey","toLowerCase","startsWith","textWithBoldKeyword","substr","revertInput","select","fillInput","classList","remove","cssSelect","add","selectedKeywordElem","up","down","Array","indexOf","jump","usingSuggestionOrHistory","isUsingInputChars","sendSubmitLog","suggestUse","submitLogCommand","paramCollection","col","paramReqid","sggstReqid","paramSelectNum","paramSelect","paramSuggestUse","paramSubmitWay","sendFormParam","paramExParam","isUserAgentGood","ua","navigator","userAgent","bad_ua","exec","init","config","getElementById","getAttribute","form","isNonStringOrEmpty","v","contains","paramFormParam","Math","floor","random","searchCommand","keyCode","focus","activeElement","proxyStore","Store","portName","extensionId","webSearchHistory","isProxyStoreInitialized","pendingCheckEnabledCallbacks","isHistoryEnable","isHistoryCleared","subscribe","extensionSetting","getState","ExtensionSetting","IsSearchHistoryStored","cb","handleClearHistoryChanges","history","dispatch","platform_api_root","runtime","sendMessage","method","clearHistory","checkWebHistoryIsEnabled","push","getHistoryWords","maxCount","savedHistoryWords","slice","addNewWord","word","local","getNative","func","baseGetTag","isObject","tag","global","other","isFunction","isLength","reIsUint","test","webpackPolyfill","deprecate","paths","children","PopupRSuggest","RSuggest","super","numberOfFocus","numberOfHistoryWordToBeDisplayed","isHistoryClicked","appendHistoryElems","clearHistoryButton","clearHistoryButtonRow","allHistoryKeywordElemsLiveCollection","historyRowsCount","firstHistoryKeywordElem","removeHistorySeparator","addHistorySeparator","beforeRowElem","separatorElem","insertBefore","historySeparatorElem","displayWithHistory","forceShow","historyWords","historyWordsCount","clearHistoryRowElem","wasEmpty","createHiddenInputElem","inputElem","args","xmlhttp","XMLHttpRequest","verb","AJAX_REQUEST_VERB","GET","open","responseType","dataType","ajaxConfig","onreadystatechange","readyState","response","error","send","POST","alias","wrapStore","_Store2","_interopRequireDefault","_wrapStore2","_alias2","obj","default","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_assignIn","_assignIn2","_constants","_ref","_this","_ref$state","state","_ref$extensionId","instance","TypeError","_classCallCheck","Error","readyResolved","readyPromise","Promise","resolve","readyResolve","port","chrome","connect","listeners","onMessage","addListener","message","replaceState","payload","patchState","arguments","then","listener","_this2","filter","difference","assign","forEach","_ref2","change","Reflect","deleteProperty","_this3","reject","resp","bgErr","copyObject","createAssigner","keysIn","assignIn","source","assignValue","baseAssignValue","customizer","isNew","newValue","eq","objValue","baseIsNative","getValue","isMasked","toSource","reIsHostCtor","funcProto","objectProto","funcToString","toString","reIsNative","g","window","nativeObjectToString","isOwn","unmasked","result","uid","coreJsData","maskSrcKey","keys","IE_PROTO","baseRest","isIterateeCall","assigner","sources","guard","identity","overRest","setToString","start","apply","nativeMax","max","transform","array","otherArgs","thisArg","baseSetToString","shortOut","constant","string","nativeNow","Date","now","lastCalled","stamp","remaining","isArrayLike","isIndex","arrayLikeKeys","baseKeysIn","baseTimes","isArguments","isArray","isBuffer","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","iteratee","baseIsArguments","isObjectLike","propertyIsEnumerable","stubFalse","freeExports","nodeType","freeModule","Buffer","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","typedArrayTags","freeProcess","process","types","require","binding","isPrototype","nativeKeysIn","isProto","Ctor","_shallowDiff","_shallowDiff2","promiseResponder","dispatchResult","res","catch","err","console","store","dispatchResponder","dispatchResponse","request","sender","sendResponse","action","_sender","connectState","prevState","unsubscribe","diff","postMessage","onDisconnect","onMessageExternal","warn","onConnect","onConnectExternal","oldObj","newObj","aliases","next"],"mappings":"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","file":"suggest.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Message type used for dispatch events\n// from the Proxy Stores to background\nvar DISPATCH_TYPE = exports.DISPATCH_TYPE = 'chromex.dispatch';\n\n// Message type for state update events from\n// background to Proxy Stores\nvar STATE_TYPE = exports.STATE_TYPE = 'chromex.state';\n\n// Message type for state patch events from\n// background to Proxy Stores\nvar PATCH_STATE_TYPE = exports.PATCH_STATE_TYPE = 'chromex.patch_state';\n\n// The `change` value for updated or inserted fields resulting from shallow diff\nvar DIFF_STATUS_UPDATED = exports.DIFF_STATUS_UPDATED = 'updated';\n\n// The `change` value for removed fields resulting from shallow diff\nvar DIFF_STATUS_REMOVED = exports.DIFF_STATUS_REMOVED = 'removed';","/**\n * @license suggest.js 2.0.1\n * Copyright (c) @year Rakuten.Inc\n * Date : @compressesDate\n */\nimport {ajax} from '../../utilities/src/ajax';\n\nconst spaceRegExp = new RegExp(\"^[\\\\s\" + unescape(\"\\u3000\") + \"]+\");\n\nexport class RSuggest {\n\tconstructor() {\n\t\tthis.cachedResults = {};\n\t\tthis.backup = \"\";\n\t\tthis.lastInput = \"\";\n\t\tthis.respInput = \"\";\n\t\tthis.sggstSelectNum = -1;\n\t\tthis.usingChar = \"\";\n\t\tthis.mouseDownWasAtElem = null;\n\t\tthis.mouseState = 0;\n\t\tthis.maxIndex = 0;\n\t\tthis.index = -1;\n\t\tthis.viewEvent = null;\n\t\tthis.ajaxEvent = null;\n\t\tthis.suggestDivPos = null;\n\t\tthis.submitWay = 0;\n\t\tthis.blackList = [];\n\t\tthis.userInteractedWithInput = false;\n\t}\n\n\tpreInit() {\n\t\tthis.suggestDivPos = this.input.parentElement;\n\t\treturn true;\n\t}\n\n\tescapeHtml(val) {\n\t\tconst elm = document.createElement('div')\n\t\telm.textContent = val;\n\t\treturn elm.innerHTML;\n\t}\n\n\tinitFailure() {\n\t\tthis.input.setAttribute(\"autocomplete\", \"\");\n\t}\n\n\tcreateSuggestDiv() {\n\t\tthis.suggest = document.createElement(\"div\");\n\t\tthis.suggest.setAttribute(\"id\", \"suggestbox\");\n\t\tthis.suggest.style.display = \"none\";\n\t\tthis.suggestDivPos.appendChild(this.suggest);\n\n\t\tfor (let i = 0; i < this.count; ++i) {\n\t\t\tthis.addNewRow();\n\t\t}\n\t}\n\n\taddNewRow() {\n\t\tconst cssKeywordElem = document.createElement(\"span\");\n\t\tcssKeywordElem.setAttribute(\"class\", this.cssKeyword);\n\n\t\tcssKeywordElem.addEventListener(\"mouseup\", (e) => {\n\t\t\tif (e.which != 1 || this.mouseDownWasAtElem != e.currentTarget) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.mouseState = 2;\n\t\t\tthis.input.blur();\n\t\t\tthis.input.value = e.currentTarget.textContent;\n\t\t\tthis.sggstSelectNum = this.index;\n\t\t\tthis.usingChar = e.currentTarget.textContent;\n\t\t\tthis.submitWay = 2;\n\n\t\t\tthis.onRowKeywordLaunch(e.currentTarget);\n\t\t\tthis.suggest.style.display = \"none\";\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.button.click();\n\t\t\t}, 10);\n\n\t\t\tthis.eventStop();\n\t\t});\n\n\t\tcssKeywordElem.addEventListener(\"mousedown\", (e) => {\n\t\t\tif (e.which != 1) {\n\t\t\t\tthis.input.blur();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.mouseDownWasAtElem = e.currentTarget;\n\t\t\tthis.mouseState = 1;\n\t\t\te.preventDefault();\n\t\t});\n\n\t\tcssKeywordElem.addEventListener(\"mouseover\", (e) => {\n\t\t\tthis.over(e.currentTarget);\n\t\t});\n\n\t\tcssKeywordElem.addEventListener(\"mouseout\", (e) => {\n\t\t\tthis.mouseState = 0;\n\t\t});\n\n\t\tconst cssNoSelectElem = document.createElement(\"div\");\n\t\tcssNoSelectElem.setAttribute(\"class\", this.cssNoSelect);\n\t\tcssNoSelectElem.appendChild(cssKeywordElem);\n\n\t\tconst rowElem = document.createElement(\"div\");\n\t\trowElem.appendChild(cssNoSelectElem);\n\n\t\tthis.suggest.appendChild(rowElem);\n\t\treturn rowElem;\n\t}\n\n\tonRowKeywordLaunch(rowKeywordElem) {\n\t}\n\n\tonEmptyInput() {\n\t\tthis.hide();\n\t}\n\n\tdoDisplayOrHideIfEmpty() {\n\t\tif (this.maxIndex > 0) {\n\t\t\tthis.suggest.style.display = \"block\";\n\t\t} else {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tsearch() {\n\t\tconst k = this.input.value;\n\t\tif (k == \"\" || k.replace(spaceRegExp, \"\").length == 0) {\n\t\t\tthis.usingChar = \"\";\n\t\t\tthis.sggstSelectNum = -1;\n\t\t\tthis.onEmptyInput(this.lastInput.length == 0);\n\t\t\tthis.lastInput = \"\";\n\t\t\treturn;\n\t\t}\n\n\t\tif (k == this.lastInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.lastInput = k;\n\t\tthis.backup = k;\n\t\tclearTimeout(this.ajaxEvent);\n\t\tthis.ajaxEvent = setTimeout(() => {\n\t\t\tconst q = this.lastInput.replace(spaceRegExp, \"\");\n\t\t\tif (q.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!Object.prototype.hasOwnProperty.call(this.cachedResults, q)) {\n\t\t\t\tlet u = this.baseUrl\n\t\t\t\t\t\t\t+ \"?\" + this.paramSuggestid + \"=\" + this.suggestId\n\t\t\t\t\t\t\t+ \"&\" + this.paramInput + \"=\" + encodeURIComponent(q)\n\t\t\t\t\t\t\t+ \"&\" + this.paramCallback + \"=json\";\n\t\t\t\t\t\t\tif (this.exParam) {\n\t\t\t\t\t\t\t\tu += \"&\" + this.exParam;\n\t\t\t\t\t\t\t}\n\t\t\t\tthis.read(u, q);\n\t\t\t} else {\n\t\t\t\tthis.show(this.cachedResults[q], q, /*from_cache=*/true);\n\t\t\t}\n\t\t}, 10);\n\t}\n\n\tread(jsonUrl, q) {\n\t\tajax({\n\t\t\turl: jsonUrl,\n\t\t\tcache: true,\n\t\t\ttimeout: 10000,\n\t\t\tscriptCharset: this.encoding,\n\t\t\tsuccess: (cb_json) => {\n\t\t\t\tif (q) {\n\t\t\t\t\tlet data = {};\n\t\t\t\t\tif (cb_json && cb_json.length > 1) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdata = JSON.parse(cb_json);\n\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.show(data, q, /*from_cache=*/false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\teventStart() {\n\t\tclearInterval(this.viewEvent);\n\n\t\tthis.viewEvent = setInterval(() => {\n\t\t\tthis.search();\n\t\t}, 100);\n\t}\n\n\teventStop() {\n\t\tclearInterval(this.viewEvent);\n\t\tsetTimeout(() => {\n\t\t\tthis.hide();\n\t\t}, 10);\n\t}\n\n\tshow(data, key, from_cache) {\n\t\tif (!from_cache) {\n\t\t\tif (typeof data.status == \"undefined\" ||\n\t\t\t\t\tdata.status != \"OK\") {\n\t\t\t\tthis.maxIndex = 0;\n\t\t\t\tthis.doDisplayOrHideIfEmpty();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.cachedResults[key] = data;\n\t\t}\n\n\t\tif (this.lastInput.replace(spaceRegExp, \"\") != key) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet len = data.suggestions.length;\n\t\tif (len == 0) {\n\t\t\tthis.maxIndex = 0;\n\t\t\tthis.doDisplayOrHideIfEmpty();\n\t\t\treturn;\n\t\t}\n\t\tif (len > this.count) {\n\t\t\tlen = this.count;\n\t\t}\n\n\t\tthis.maxIndex = len;\n\t\tthis.index = -1;\n\t\tthis.respInput = this.lastInput;\n\n\t\tconst allKeywordElems =\n\t\t\tthis.suggest.getElementsByClassName(this.cssKeyword);\n\t\tfor (let i = 0; i < allKeywordElems.length; ++i) {\n\t\t\tconst keywordElem = allKeywordElems[i];\n\t\t\tkeywordElem.parentElement.setAttribute(\"class\", this.cssNoSelect);\n\t\t\tif (i < len) {\n\t\t\t\tconst text = data.suggestions[i].terms;\n\t\t\t\tconst strongkey = this.lastInput.toLowerCase();\n\t\t\t\tif (text.startsWith(strongkey)) {\n\t\t\t\t\tlet textWithBoldKeyword =\n\t\t\t\t\t\t\"<strong>\" + this.escapeHtml(strongkey) + \"</strong>\";\n\t\t\t\t\ttextWithBoldKeyword +=\n\t\t\t\t\t\tthis.escapeHtml(text.substr(strongkey.length));\n\t\t\t\t\tkeywordElem.innerHTML = textWithBoldKeyword;\n\t\t\t\t} else {\n\t\t\t\t\tkeywordElem.textContent = text;\n\t\t\t\t}\n\t\t\t\tkeywordElem.parentElement.style.display = \"block\";\n\t\t\t} else {\n\t\t\t\tkeywordElem.parentElement.style.display = \"none\";\n\t\t\t}\n\t\t}\n\n\t\tthis.doDisplayOrHideIfEmpty();\n\t}\n\n\thide(revertInput) {\n\t\tif (revertInput && this.lastInput.length != 0) {\n\t\t\tthis.input.value = this.backup;\n\t\t\tthis.sggstSelectNum = -1;\n\t\t\tthis.usingChar = \"\";\n\t\t}\n\n\t\tthis.lastInput = this.input.value;\n\t\tthis.suggest.style.display = \"none\";\n\t}\n\n\tselect(fillInput) {\n\t\tconst allKeywordElems =\n\t\t\tthis.suggest.getElementsByClassName(this.cssKeyword);\n\t\tfor (let i = 0; i < allKeywordElems.length; ++i) {\n\t\t\tconst keywordElem = allKeywordElems[i];\n\t\t\tkeywordElem.parentElement.classList.remove(this.cssSelect);\n\t\t\tkeywordElem.parentElement.classList.add(this.cssNoSelect);\n\t\t}\n\n\t\tlet selectedKeywordElem = null;\n\t\tif (this.index >= 0 && this.index < this.maxIndex &&\n\t\t\t\tthis.index < allKeywordElems.length) {\n\t\t\tselectedKeywordElem = allKeywordElems[this.index];\n\t\t\tselectedKeywordElem.parentElement.classList.remove(this.cssNoSelect);\n\t\t\tselectedKeywordElem.parentElement.classList.add(this.cssSelect);\n\t\t}\n\n\t\tif (fillInput) {\n\t\t\tlet d = \"\";\n\t\t\tif (selectedKeywordElem) {\n\t\t\t\td = selectedKeywordElem.textContent;\n\t\t\t\tthis.usingChar = d;\n\t\t\t\tthis.sggstSelectNum = this.index;\n\t\t\t} else {\n\t\t\t\td = this.backup;\n\t\t\t\tthis.usingChar = \"\";\n\t\t\t\tthis.sggstSelectNum = -1;\n\t\t\t}\n\t\t\tthis.input.value = d;\n\t\t\tthis.lastInput = d;\n\t\t}\n\t}\n\n\tup() {\n\t\tif (this.maxIndex == 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.index < 0) {\n\t\t\tthis.index = this.maxIndex;\n\t\t}\n\n\t\tif (this.suggest.style.display == \"block\") {\n\t\t\tthis.index--;\n\t\t\tthis.select(/*fillInput=*/true);\n\t\t} else if (this.respInput == this.lastInput) {\n\t\t\tthis.select();\n\t\t\tthis.suggest.style.display = \"block\";\n\t\t}\n\t}\n\n\tdown() {\n\t\tif (this.maxIndex == 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.index >= this.maxIndex) {\n\t\t\tthis.index = -1;\n\t\t}\n\n\t\tif (this.suggest.style.display == \"block\") {\n\t\t\tthis.index++;\n\t\t\tthis.select(/*fillInput=*/true);\n\t\t} else if (this.respInput == this.lastInput) {\n\t\t\tthis.select();\n\t\t\tthis.suggest.style.display = \"block\";\n\t\t}\n\t}\n\n\tover(rowKeywordElem) {\n\t\tconst allKeywordElems =\n\t\t\tthis.suggest.getElementsByClassName(this.cssKeyword);\n\t\tthis.index =\n\t\t\tArray.prototype.indexOf.call(allKeywordElems, rowKeywordElem);\n\t\tthis.select();\n\t}\n\n\tjump() {\n\t\tconst usingSuggestionOrHistory = this.isUsingInputChars();\n\t\tthis.sendSubmitLog(usingSuggestionOrHistory);\n\t}\n\n\tsendSubmitLog(suggestUse) {\n\t\tconst q = this.input.value.replace(spaceRegExp, \"\");\n\t\tlet u = this.baseUrl + \"/\" + this.submitLogCommand\n\t\t\t\t\t+ \"?\" + this.paramSuggestid + \"=\" + this.suggestId\n\t\t\t\t\t+ \"&\" + this.paramCollection + \"=\" + this.col\n\t\t\t\t\t+ \"&\" + this.paramReqid + \"=\" + this.sggstReqid\n\t\t\t\t\t+ \"&\" + this.paramSelectNum + \"=\" + this.sggstSelectNum\n\t\t\t\t\t+ \"&\" + this.paramSelect + \"=\" + this.usingChar\n\t\t\t\t\t+ \"&\" + this.paramSuggestUse + \"=\" + suggestUse\n\t\t\t\t\t+ \"&\" + this.paramSubmitWay + \"=\" + this.submitWay\n\t\t\t\t\t+ \"&\" + this.paramInput + \"=\" + encodeURIComponent(q)\n\t\t\t\t\t+ \"&\" + this.paramCallback + \"=\" + this.paramCallback;\n\t\tif (this.sendFormParam) {\n\t\t\t/* TODO: implement form serialization method.\n\t\t\tu += \"&\" + this.paramFormParam + \"=\" +\n\t\t\t\t\tencodeURIComponent(this.form.serialize());\n\t\t\t*/\n\t\t}\n\t\tif (this.exParam) {\n\t\t\tu += \"&\" + this.paramExParam + \"=\" +\n\t\t\t\t\tencodeURIComponent(this.exParam);\n\t\t}\n\t\tthis.read(u);\n\t}\n\n\tisUsingInputChars() {\n\t\treturn this.usingChar.length > 0 &&\n\t\t\t\tthis.input.value.startsWith(this.usingChar);\n\t}\n\n\tisUserAgentGood() {\n\t\tconst ua = navigator.userAgent.toLowerCase();\n\t\tfor (let bad_ua of this.blackList) {\n\t\t\tlet re = new RegExp(\"(\" + bad_ua + \")\");\n\t\t\tif (re.exec(ua) != null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tinit() {\n\t\tthis.config = document.getElementById(\"sggstConfig\");\n\t\tthis.input = document.getElementById(this.config.getAttribute(\"input\"));\n\t\tthis.input.setAttribute(\"autocomplete\", \"off\");\n\t\tthis.input.setAttribute(\"maxlength\", \"2048\");\n\n\t\tif (!this.preInit()) {\n\t\t\tthis.initFailure();\n\t\t\treturn;\n\t\t}\n\n\t\t// Required config attributes.\n\t\ttry {\n\t\t\tthis.form = document.getElementById(\n\t\t\t\tthis.config.getAttribute(\"form\"));\n\t\t\tthis.button = document.getElementById(\n\t\t\t\tthis.config.getAttribute(\"button\"));\n\t\t\tthis.baseUrl = this.config.getAttribute(\"baseUrl\");\n\t\t\tthis.col = this.config.getAttribute(\"col\");\n\t\t\tthis.suggestId = this.config.getAttribute(\"suggestId\");\n\t\t\tthis.encoding = this.config.getAttribute(\"encoding\");\n\t\t} catch(e) {\n\t\t}\n\t\tconst isNonStringOrEmpty = function(v) {\n\t\t\treturn typeof v != \"string\" || v.length == 0;\n\t\t};\n\t\tif (!this.form || !this.button ||\n\t\t\t\tisNonStringOrEmpty(this.baseUrl) ||\n\t\t\t\tisNonStringOrEmpty(this.col) ||\n\t\t\t\tisNonStringOrEmpty(this.suggestId) ||\n\t\t\t\tisNonStringOrEmpty(this.encoding) ||\n\t\t\t\t!this.isUserAgentGood() ||\n\t\t\t\t!this.input.parentElement.classList.contains(\"sggstInputWrap\")) {\n\t\t\tthis.initFailure();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.exParam = this.config.getAttribute(\"exParam\");\n\t\tthis.sendFormParam =\n\t\t\tthis.config.getAttribute(\"sendFormParam\") == \"1\";\n\n\t\tthis.count = 10;\n\t\tthis.cssSelect = \"sggstSelect\";\n\t\tthis.cssNoSelect = \"sggstNoselect\";\n\t\tthis.cssKeyword = \"sggstKeyword\";\n\t\tthis.paramInput = \"q\";\n\t\tthis.paramCollection = \"cl\";\n\t\tthis.paramSuggestid = \"sid\";\n\t\tthis.paramSuggestUse = \"su\";\n\t\tthis.paramSelectNum = \"sn\";\n\t\tthis.paramFormParam = \"fp\";\n\t\tthis.paramReqid = \"rid\";\n\t\tthis.sggstReqid = Math.floor(Math.random() * 10000000000);\n\t\tthis.paramSelect = \"ss\";\n\t\tthis.searchCommand = \"suggest\";\n\t\tthis.submitLogCommand =\"submit\";\n\t\tthis.paramSubmitWay = \"sw\";\n\t\tthis.paramCallback = \"format\";\n\t\tthis.paramExParam = \"ex\";\n\n\t\tthis.createSuggestDiv();\n\n\t\tthis.input.addEventListener(\"mousedown\", (e) => {\n\t\t\tthis.userInteractedWithInput = true;\n\t\t});\n\n\t\tthis.input.addEventListener(\"keydown\", (e) => {\n\t\t\tthis.userInteractedWithInput = true;\n\t\t\tswitch (e.keyCode) {\n\t\t\tcase 40:  // ARROW DOWN\n\t\t\t\tthis.down();\n\t\t\t\tbreak;\n\t\t\tcase 38:  // ARROW UP\n\t\t\t\tthis.up();\n\t\t\t\tbreak;\n\t\t\tcase 9:  // TAB\n\t\t\t\tthis.hide();\n\t\t\t\tbreak;\n\t\t\tcase 27:  // ESC\n\t\t\t\tthis.hide(true);\n\t\t\t\te.preventDefault();\n\t\t\t\tbreak;\n\t\t\tcase 13:  // ENTER\n\t\t\t\tthis.submitWay = 1;\n\t\t\t\tthis.onRowKeywordLaunch();\n\t\t\t\tthis.suggest.style.display = \"none\";\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.button.click();\n\t\t\t\t}, 10);\n\t\t\t\tthis.eventStop();\n\t\t\t\te.preventDefault();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tthis.input.addEventListener(\"focus\", () => {\n\t\t\tthis.lastInput = this.input.value;\n\t\t\tthis.backup = this.lastInput;\n\t\t\tthis.eventStart();\n\t\t});\n\n\t\tthis.input.addEventListener(\"blur\", () => {\n\t\t\tif (this.mouseState == 0) {\n\t\t\t\tthis.eventStop();\n\t\t\t} else if (this.mouseState == 1) {\n\t\t\t\tthis.input.focus();\n\t\t\t\tthis.mouseState = 0;\n\t\t\t}\n\t\t});\n\n\t\tthis.button.addEventListener(\"click\", (e) => {\n\t\t\tthis.jump();\n\t\t});\n\n\t\t// Re-focus to exec our event handlers.\n\t\tif (document.activeElement == this.input) {\n\t\t\tthis.input.blur();\n\t\t\tthis.input.focus();\n\t\t}\n\t}\n}\n","import {Store} from 'react-chrome-redux';\n\nconst proxyStore = new Store({portName: 'background_data', extensionId: null});\n\nconst MAX_HISTORY_WORD_LENGTH = 100;\n\nclass WebSearchHistory {\n\tconstructor() {\n\t\tthis.isProxyStoreInitialized = false;\n\t\tthis.pendingCheckEnabledCallbacks = [];\n\t\tthis.isHistoryEnable = false;\n\t\tthis.isHistoryCleared = false;\n\n\t\tproxyStore.subscribe(() => {\n\t\t\tif (!this.isProxyStoreInitialized) {\n\t\t\t\tthis.isProxyStoreInitialized = true;\n\n\t\t\t\tconst extensionSetting = proxyStore.getState().data.ExtensionSetting;\n\t\t\t\tif (extensionSetting && extensionSetting.IsSearchHistoryStored) {\n\t\t\t\t\tthis.isHistoryEnable = extensionSetting.IsSearchHistoryStored;\n\t\t\t\t\tif (this.isHistoryEnable) {\n\t\t\t\t\t\tfor (let cb of this.pendingCheckEnabledCallbacks) {\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.pendingCheckEnabledCallbacks = null;\n\t\t\t}\n\n\t\t\tthis.handleClearHistoryChanges();\n\t\t});\n\t}\n\n\thandleClearHistoryChanges() {\n\t\tlet history = proxyStore.getState().data.history;\n\t\tif (history) {\n\t\t\tif (history.length == 0) {\n\t\t\t\tif (this.isHistoryCleared) {\n\t\t\t\t\tproxyStore.dispatch({ type: 'SET_CLEAR_HISTORY_FLAG', data: '1' });\n\t\t\t\t\tthis.isHistoryCleared = false;\n\t\t\t\t\tplatform_api_root.runtime.sendMessage({ method: \"clearServerHistory\"});\n\t\t\t\t}\n\t\t\t} else {  // non-empty history case.\n\t\t\t\tif (proxyStore.getState().data.clearHistory == \"1\") {\n\t\t\t\t\tproxyStore.dispatch({ type: 'SET_CLEAR_HISTORY_FLAG', data: '0' });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckWebHistoryIsEnabled(cb) {\n\t\tif (this.isProxyStoreInitialized) {\n\t\t\tif (this.isHistoryEnable) {\n\t\t\t\tcb();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.pendingCheckEnabledCallbacks.indexOf(cb) == -1) {\n\t\t\t\tthis.pendingCheckEnabledCallbacks.push(cb);\n\t\t\t}\n\t\t}\n\t}\n\n\tclearHistory() {\n\t\tif (!this.isHistoryEnable) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isHistoryCleared = true;\n\t\tproxyStore.dispatch({ type: 'CLEAR_HISTORY' });\n\t}\n\n\tgetHistoryWords(maxCount) {\n\t\tif (!this.isHistoryEnable) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst savedHistoryWords = proxyStore.getState().data.history;\n\t\tif (savedHistoryWords) {\n\t\t\treturn savedHistoryWords.slice(-1 * maxCount);\n\t\t}\n\t\treturn [];\n\t}\n\n\taddNewWord(word) {\n\t\tif (!this.isHistoryEnable || !word || word.length == 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tproxyStore.dispatch({\n\t\t\ttype: 'ADD_HISTORY',\n\t\t\tdata: {\n\t\t\t\tlocal: true,\n\t\t\t\tinput: word.substr(0, MAX_HISTORY_WORD_LENGTH)\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport const webSearchHistory = new WebSearchHistory();\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import {RSuggest} from './suggest';\nimport {webSearchHistory} from './websearchhistory';\n\nconst HISTORY_ROW_KEYWORD_CLASS = \"history-row-keyword\";\nconst HISTORY_SEPARATOR_ID = 'websearch-history-separator';\nconst CLEAR_HISTORY_BUTTON_ROW_ID = 'websearch-history-clearbtnrow';\n\nclass PopupRSuggest extends RSuggest {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.numberOfFocus = 0;\n\t\tthis.numberOfHistoryWordToBeDisplayed = 5;\n\t\tthis.isHistoryClicked = false;\n\t}\n\n\tpreInit() {\n\t\t// The container for suggest div is hardcoded in popup.html. It is directly under\n\t\t// root element. This is needed for zindex positioning and should not conflict with other\n\t\t// div position\n\t\tthis.suggestDivPos = document.getElementById(\"autoCompletePopUp\");\n\t\treturn this.suggestDivPos != null;\n\t}\n\n\tcreateSuggestDiv() {\n\t\tsuper.createSuggestDiv();\n\t\twebSearchHistory.checkWebHistoryIsEnabled(\n\t\t\t() => this.appendHistoryElems());\n\t}\n\n\tappendHistoryElems() {\n\t\tfor (let i = 0; i < this.numberOfHistoryWordToBeDisplayed; ++i) {\n\t\t\tthis.addNewRow();\n\t\t}\n\n\t\tconst clearHistoryButton = document.createElement(\"span\");\n\t\tclearHistoryButton.textContent = \"検索履歴を削除\";\n\t\tclearHistoryButton.addEventListener(\"mousedown\", (e) => {\n\t\t\tthis.mouseDownWasAtElem = e.currentTarget;\n\t\t\tthis.mouseState = 1;\n\t\t\te.preventDefault();\n\t\t});\n\t\tclearHistoryButton.addEventListener(\"mouseup\", (e) => {\n\t\t\tif (this.mouseDownWasAtElem == e.currentTarget) {\n\t\t\t\tthis.clearHistory();\n\t\t\t}\n\t\t\tthis.mouseState = 2;\n\t\t\te.preventDefault();\n\t\t});\n\t\tclearHistoryButton.addEventListener(\"mouseout\", (e) => {\n\t\t\tthis.mouseState = 0;\n\t\t});\n\n\t\tconst clearHistoryButtonRow = document.createElement(\"div\");\n\t\tclearHistoryButtonRow.setAttribute(\"id\", CLEAR_HISTORY_BUTTON_ROW_ID);\n\t\tclearHistoryButtonRow.addEventListener(\"mouseover\", (e) => {\n\t\t\tthis.over(null);\n\t\t});\n\t\tclearHistoryButtonRow.appendChild(clearHistoryButton);\n\n\t\tthis.suggest.appendChild(clearHistoryButtonRow);\n\t}\n\n\tclearHistory() {\n\t\tconst allHistoryKeywordElemsLiveCollection =\n\t\t\tthis.suggest.getElementsByClassName(HISTORY_ROW_KEYWORD_CLASS);\n\t\tconst historyRowsCount = allHistoryKeywordElemsLiveCollection.length;\n\t\twhile (allHistoryKeywordElemsLiveCollection.length > 0) {\n\t\t\tconst firstHistoryKeywordElem =\n\t\t\t\tallHistoryKeywordElemsLiveCollection[0];\n\t\t\tfirstHistoryKeywordElem.parentElement.style.display = \"none\";\n\t\t\tfirstHistoryKeywordElem.classList.remove(HISTORY_ROW_KEYWORD_CLASS);\n\t\t}\n\n\t\tthis.removeHistorySeparator();\n\t\tdocument.getElementById(CLEAR_HISTORY_BUTTON_ROW_ID).style.display = \"none\";\n\n\t\twebSearchHistory.clearHistory();\n\n\t\tthis.maxIndex -= historyRowsCount;\n\t\tif (this.maxIndex == 0) {  // Nothing to show.\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\taddHistorySeparator(beforeRowElem) {\n\t\tconst separatorElem = document.createElement(\"div\");\n\t\tseparatorElem.setAttribute(\"id\", HISTORY_SEPARATOR_ID);\n\t\tbeforeRowElem.parentElement.insertBefore(separatorElem, beforeRowElem);\n\t}\n\n\tremoveHistorySeparator() {\n\t\tconst historySeparatorElem =\n\t\t\tdocument.getElementById(HISTORY_SEPARATOR_ID);\n\t\tif (historySeparatorElem) {\n\t\t\thistorySeparatorElem.remove();\n\t\t}\n\t}\n\n\tdisplayWithHistory(forceShow) {\n\t\t// Append history rows to the current suggestions. This code assumes\n\t\t// that maxIndex equals to the number of suggestions (i.e. it must be\n\t\t// called after the control is filled by suggestions and has no history\n\t\t// words yet.)\n\t\tthis.removeHistorySeparator();\n\n\t\tconst historyWords = webSearchHistory.getHistoryWords(\n\t\t\t\t\t\t\t\tthis.numberOfHistoryWordToBeDisplayed);\n\t\tconst historyWordsCount = (historyWords) ? historyWords.length : 0;\n\n\t\tconst allKeywordElems =\n\t\t\tthis.suggest.getElementsByClassName(this.cssKeyword);\n\t\tfor (let i = 0; i < allKeywordElems.length; ++i) {\n\t\t\tconst keywordElem = allKeywordElems[i];\n\t\t\tif (i < this.maxIndex) {\n\t\t\t\t// It is a suggestion.\n\t\t\t\tkeywordElem.classList.remove(HISTORY_ROW_KEYWORD_CLASS);\n\t\t\t} else if (i >= this.maxIndex && i < this.maxIndex + historyWordsCount) {\n\t\t\t\t// It is a history word.\n\t\t\t\tkeywordElem.classList.add(HISTORY_ROW_KEYWORD_CLASS);\n\t\t\t\tkeywordElem.textContent = historyWords[i - this.maxIndex];\n\t\t\t\tkeywordElem.parentElement.setAttribute(\"class\", this.cssNoSelect);\n\t\t\t\tkeywordElem.parentElement.style.display = \"block\";\n\t\t\t} else {\n\t\t\t\t// It is a not-used line -> hide it.\n\t\t\t\tkeywordElem.classList.remove(HISTORY_ROW_KEYWORD_CLASS);\n\t\t\t\tkeywordElem.parentElement.setAttribute(\"class\", this.cssNoSelect);\n\t\t\t\tkeywordElem.parentElement.style.display = \"none\";\n\t\t\t}\n\t\t}\n\n\t\t// Append a separator before the first history word (if there are\n\t\t// suggestions above).\n\t\tif (this.maxIndex > 0 && historyWordsCount > 0) {\n\t\t\tthis.addHistorySeparator(\n\t\t\t\tallKeywordElems[this.maxIndex].parentElement);\n\t\t}\n\n\t\tconst clearHistoryRowElem =\n\t\t\tdocument.getElementById(CLEAR_HISTORY_BUTTON_ROW_ID);\n\t\tif (clearHistoryRowElem) {\n\t\t\tclearHistoryRowElem.style.display =\n\t\t\t\t(historyWordsCount > 0) ? \"block\" : \"none\";\n\t\t}\n\n\t\tthis.maxIndex += historyWordsCount;\n\n\t\tif (this.maxIndex == 0) {  // Nothing to show.\n\t\t\tthis.hide();\n\t\t\treturn;\n\t\t}\n\n\t\tif (forceShow) {\n\t\t\tthis.suggest.style.display = \"block\";\n\t\t}\n\t}\n\n\tonRowKeywordLaunch(rowKeywordElem) {\n\t\tif (!rowKeywordElem) {\n\t\t\t// If the element is not passed directly, then find the selected\n\t\t\t// one.\n\t\t\tif (this.index >= 0 && this.index < this.maxIndex) {\n\t\t\t\tconst allKeywordElems =\n\t\t\t\t\tthis.suggest.getElementsByClassName(this.cssKeyword);\n\t\t\t\tif (this.index < allKeywordElems.length) {\n\t\t\t\t\trowKeywordElem = allKeywordElems[this.index];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.isHistoryClicked =\n\t\t\trowKeywordElem &&\n\t\t\trowKeywordElem.classList.contains(HISTORY_ROW_KEYWORD_CLASS);\n\t}\n\n\tonEmptyInput(wasEmpty) {\n\t\t// Do not re-display while it is being empty (this function is called\n\t\t// with 100ms interval while the input is focused).\n\t\tif (this.suggest.style.display == \"block\" && wasEmpty) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Display history (if any) when the input is empty.\n\t\t// But not when user has just opened the page without any interaction\n\t\t// yet (wait until he/she does the first manual focusing/click/keypress).\n\t\tconst forceShow =\n\t\t\tthis.suggest.style.display == \"none\" &&\n\t\t\t(this.numberOfFocus > 1 || this.userInteractedWithInput);\n\n\t\tthis.index = -1;\n\t\tthis.maxIndex = 0;\n\t\tthis.respInput = this.lastInput;\n\n\t\tthis.displayWithHistory(forceShow);\n\t}\n\n\tdoDisplayOrHideIfEmpty() {\n\t\tthis.displayWithHistory(/*forceShow=*/true);\n\t}\n\n\tjump() {\n\t\t// Track history/suggestion usage.\n\t\tconst createHiddenInputElem = function(name, value) {\n\t\t\tconst inputElem = document.createElement('input');\n\t\t\tinputElem.type = \"hidden\";\n\t\t\tinputElem.name = name;\n\t\t\tinputElem.value = value;\n\t\t\treturn inputElem;\n\t\t};\n\t\tif (this.isHistoryClicked) {\n\t\t\tthis.form.appendChild(createHiddenInputElem(\"hs\", \"1\"));\n\t\t} else if (this.sggstSelectNum >= 0) {\n\t\t\tthis.form.appendChild(createHiddenInputElem(\"sg\", \"1\"));\n\t\t}\n\n\t\tsuper.jump();\n\t\twebSearchHistory.addNewWord(this.input.value);\n\t}\n\n\teventStart() {\n\t\tthis.numberOfFocus++;\n\t\tsuper.eventStart();\n\t}\n}\n\nconst rsuggest = new PopupRSuggest();\nrsuggest.init();\n","let ajaxConfig = {\n    timeout: 0\n};\n\nexport function ajaxSetup(args) {\n    // |args| may include: timeout.\n    if (Object.prototype.hasOwnProperty.call(args, 'timeout')) {\n        ajaxConfig.timeout = args.timeout;\n    }\n}\n\nexport const AJAX_REQUEST_VERB = {\n    GET: \"GET\",\n    POST: \"POST\"\n}\n\nexport function ajax(args) {\n    // |args| must include: url.\n    // |args| may include: type (=AJAX_REQUEST_VERB.*), dataType, data, timeout,\n    // success, error.\n    let xmlhttp = new XMLHttpRequest();\n\n    const verb = Object.prototype.hasOwnProperty.call(args, 'type') ? args.type\n                                             : AJAX_REQUEST_VERB.GET;\n    xmlhttp.open(verb, args.url, true);\n\n    if (Object.prototype.hasOwnProperty.call(args, 'dataType')) {\n        xmlhttp.responseType = args.dataType;\n    }\n    if (Object.prototype.hasOwnProperty.call(args, 'timeout')) {\n        xmlhttp.timeout = args.timeout;\n    } else if (ajaxConfig.timeout > 0) {\n        xmlhttp.timeout = ajaxConfig.timeout;\n    }\n\n    xmlhttp.onreadystatechange = function() {\n        if (xmlhttp.readyState == 4) {   // 4 == done\n            if (Math.floor(xmlhttp.status / 100) == 2 && xmlhttp.response) {\n                if (Object.prototype.hasOwnProperty.call(args, 'success')) {\n                    args.success(xmlhttp.response);\n                }\n            } else {\n                if (Object.prototype.hasOwnProperty.call(args, 'error')) {\n                    args.error();\n                }\n            }\n        }\n    }\n\n    xmlhttp.send(Object.prototype.hasOwnProperty.call(args, 'data')? args.data : null);\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.alias = exports.wrapStore = exports.Store = undefined;\n\nvar _Store = require('./store/Store');\n\nvar _Store2 = _interopRequireDefault(_Store);\n\nvar _wrapStore = require('./wrap-store/wrapStore');\n\nvar _wrapStore2 = _interopRequireDefault(_wrapStore);\n\nvar _alias = require('./alias/alias');\n\nvar _alias2 = _interopRequireDefault(_alias);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Store = _Store2.default;\nexports.wrapStore = _wrapStore2.default;\nexports.alias = _alias2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _assignIn = require('lodash/assignIn');\n\nvar _assignIn2 = _interopRequireDefault(_assignIn);\n\nvar _constants = require('../constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar backgroundErrPrefix = '\\nLooks like there is an error in the background page. ' + 'You might want to inspect your background page for more details.\\n';\n\nvar Store = function () {\n  /**\n   * Creates a new Proxy store\n   * @param  {object} options An object of form {portName, state, extensionId}, where `portName` is a required string and defines the name of the port for state transition changes, `state` is the initial state of this store (default `{}`) `extensionId` is the extension id as defined by chrome when extension is loaded (default `''`)\n   */\n  function Store(_ref) {\n    var _this = this;\n\n    var portName = _ref.portName,\n        _ref$state = _ref.state,\n        state = _ref$state === undefined ? {} : _ref$state,\n        _ref$extensionId = _ref.extensionId,\n        extensionId = _ref$extensionId === undefined ? '' : _ref$extensionId;\n\n    _classCallCheck(this, Store);\n\n    if (!portName) {\n      throw new Error('portName is required in options');\n    }\n\n    this.portName = portName;\n    this.readyResolved = false;\n    this.readyPromise = new Promise(function (resolve) {\n      return _this.readyResolve = resolve;\n    });\n\n    this.extensionId = extensionId; // keep the extensionId as an instance variable\n    this.port = chrome.runtime.connect(this.extensionId, { name: portName });\n    this.listeners = [];\n    this.state = state;\n\n    this.port.onMessage.addListener(function (message) {\n      switch (message.type) {\n        case _constants.STATE_TYPE:\n          _this.replaceState(message.payload);\n\n          if (!_this.readyResolved) {\n            _this.readyResolved = true;\n            _this.readyResolve();\n          }\n          break;\n\n        case _constants.PATCH_STATE_TYPE:\n          _this.patchState(message.payload);\n          break;\n\n        default:\n        // do nothing\n      }\n    });\n\n    this.dispatch = this.dispatch.bind(this); // add this context to dispatch\n  }\n\n  /**\n  * Returns a promise that resolves when the store is ready. Optionally a callback may be passed in instead.\n  * @param [function] callback An optional callback that may be passed in and will fire when the store is ready.\n  * @return {object} promise A promise that resolves when the store has established a connection with the background page.\n  */\n\n\n  _createClass(Store, [{\n    key: 'ready',\n    value: function ready() {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (cb !== null) {\n        return this.readyPromise.then(cb);\n      }\n\n      return this.readyPromise;\n    }\n\n    /**\n     * Subscribes a listener function for all state changes\n     * @param  {function} listener A listener function to be called when store state changes\n     * @return {function}          An unsubscribe function which can be called to remove the listener from state updates\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      this.listeners.push(listener);\n\n      return function () {\n        _this2.listeners = _this2.listeners.filter(function (l) {\n          return l !== listener;\n        });\n      };\n    }\n\n    /**\n     * Replaces the state for only the keys in the updated state. Notifies all listeners of state change.\n     * @param {object} state the new (partial) redux state\n     */\n\n  }, {\n    key: 'patchState',\n    value: function patchState(difference) {\n      var state = Object.assign({}, this.state);\n\n      difference.forEach(function (_ref2) {\n        var change = _ref2.change,\n            key = _ref2.key,\n            value = _ref2.value;\n\n        switch (change) {\n          case _constants.DIFF_STATUS_UPDATED:\n            state[key] = value;\n            break;\n\n          case _constants.DIFF_STATUS_REMOVED:\n            Reflect.deleteProperty(state, key);\n            break;\n\n          default:\n          // do nothing\n        }\n      });\n\n      this.state = state;\n\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n\n    /**\n     * Replace the current state with a new state. Notifies all listeners of state change.\n     * @param  {object} state The new state for the store\n     */\n\n  }, {\n    key: 'replaceState',\n    value: function replaceState(state) {\n      this.state = state;\n\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n\n    /**\n     * Get the current state of the store\n     * @return {object} the current store state\n     */\n\n  }, {\n    key: 'getState',\n    value: function getState() {\n      return this.state;\n    }\n\n    /**\n     * Stub function to stay consistent with Redux Store API. No-op.\n     */\n\n  }, {\n    key: 'replaceReducer',\n    value: function replaceReducer() {\n      return;\n    }\n\n    /**\n     * Dispatch an action to the background using messaging passing\n     * @param  {object} data The action data to dispatch\n     * @return {Promise}     Promise that will resolve/reject based on the action response from the background\n     */\n\n  }, {\n    key: 'dispatch',\n    value: function dispatch(data) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        chrome.runtime.sendMessage(_this3.extensionId, {\n          type: _constants.DISPATCH_TYPE,\n          portName: _this3.portName,\n          payload: data\n        }, function (resp) {\n          var error = resp.error,\n              value = resp.value;\n\n\n          if (error) {\n            var bgErr = new Error('' + backgroundErrPrefix + error);\n\n            reject((0, _assignIn2.default)(bgErr, error));\n          } else {\n            resolve(value && value.payload);\n          }\n        });\n      });\n    }\n  }]);\n\n  return Store;\n}();\n\nexports.default = Store;","var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nmodule.exports = assignIn;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constants = require('../constants');\n\nvar _shallowDiff = require('./shallowDiff');\n\nvar _shallowDiff2 = _interopRequireDefault(_shallowDiff);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Responder for promisified results\n * @param  {object} dispatchResult The result from `store.dispatch()`\n * @param  {function} send         The function used to respond to original message\n * @return {undefined}\n */\nvar promiseResponder = function promiseResponder(dispatchResult, send) {\n  Promise.resolve(dispatchResult).then(function (res) {\n    send({\n      error: null,\n      value: res\n    });\n  }).catch(function (err) {\n    console.error('error dispatching result:', err);\n    send({\n      error: err.message,\n      value: null\n    });\n  });\n};\n\nexports.default = function (store, _ref) {\n  var portName = _ref.portName,\n      dispatchResponder = _ref.dispatchResponder;\n\n  if (!portName) {\n    throw new Error('portName is required in options');\n  }\n\n  // set dispatch responder as promise responder\n  if (!dispatchResponder) {\n    dispatchResponder = promiseResponder;\n  }\n\n  /**\n   * Respond to dispatches from UI components\n   */\n  var dispatchResponse = function dispatchResponse(request, sender, sendResponse) {\n    if (request.type === _constants.DISPATCH_TYPE && request.portName === portName) {\n      var action = Object.assign({}, request.payload, {\n        _sender: sender\n      });\n\n      var dispatchResult = null;\n\n      try {\n        dispatchResult = store.dispatch(action);\n      } catch (e) {\n        dispatchResult = Promise.reject(e.message);\n        console.error(e);\n      }\n\n      dispatchResponder(dispatchResult, sendResponse);\n      return true;\n    }\n  };\n\n  /**\n  * Setup for state updates\n  */\n  var connectState = function connectState(port) {\n    if (port.name !== portName) {\n      return;\n    }\n\n    var prevState = store.getState();\n\n    var patchState = function patchState() {\n      var state = store.getState();\n      var diff = (0, _shallowDiff2.default)(prevState, state);\n\n      if (diff.length) {\n        prevState = state;\n\n        port.postMessage({\n          type: _constants.PATCH_STATE_TYPE,\n          payload: diff\n        });\n      }\n    };\n\n    // Send patched state down connected port on every redux store state change\n    var unsubscribe = store.subscribe(patchState);\n\n    // when the port disconnects, unsubscribe the sendState listener\n    port.onDisconnect.addListener(unsubscribe);\n\n    // Send store's initial state through port\n    port.postMessage({\n      type: _constants.STATE_TYPE,\n      payload: prevState\n    });\n  };\n\n  /**\n   * Setup action handler\n   */\n  chrome.runtime.onMessage.addListener(dispatchResponse);\n\n  /**\n   * Setup external action handler\n   */\n  if (chrome.runtime.onMessageExternal) {\n    chrome.runtime.onMessageExternal.addListener(dispatchResponse);\n  } else {\n    console.warn('runtime.onMessageExternal is not supported');\n  }\n\n  /**\n   * Setup extended connection\n   */\n  chrome.runtime.onConnect.addListener(connectState);\n\n  /**\n   * Setup extended external connection\n   */\n  if (chrome.runtime.onConnectExternal) {\n    chrome.runtime.onConnectExternal.addListener(connectState);\n  } else {\n    console.warn('runtime.onConnectExternal is not supported');\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = shallowDiff;\n\nvar _constants = require('../constants');\n\n/**\n * Returns a new Object containing only the fields in `new` that differ from `old`\n *\n * @param {Object} old\n * @param {Object} new\n * @return {Array} An array of changes. The changes have a `key`, `value`, and `change`.\n *   The change is either `updated`, which is if the value has changed or been added,\n *   or `removed`.\n */\nfunction shallowDiff(oldObj, newObj) {\n  var difference = [];\n\n  Object.keys(newObj).forEach(function (key) {\n    if (oldObj[key] !== newObj[key]) {\n      difference.push({\n        key: key,\n        value: newObj[key],\n        change: _constants.DIFF_STATUS_UPDATED\n      });\n    }\n  });\n\n  Object.keys(oldObj).forEach(function (key) {\n    if (!newObj[key]) {\n      difference.push({\n        key: key,\n        change: _constants.DIFF_STATUS_REMOVED\n      });\n    }\n  });\n\n  return difference;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Simple middleware intercepts actions and replaces with\n * another by calling an alias function with the original action\n * @type {object} aliases an object that maps action types (keys) to alias functions (values) (e.g. { SOME_ACTION: newActionAliasFunc })\n */\nexports.default = function (aliases) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        var alias = aliases[action.type];\n\n        if (alias) {\n          return next(alias(action));\n        }\n\n        return next(action);\n      };\n    };\n  };\n};"],"sourceRoot":""}